@model Sklep_internetowy.ViewModels.ManageCredentialViewModel


@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_ManageLayout.cshtml";
}

<head>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="~/Content/css/login.css" />
</head>



<!-- Page Content -->
<div class="container">


            @using (Html.BeginForm("ChangeProfile", "Manage", FormMethod.Post))
            {
                <div class="panel panel-success" style="margin-top:60px;">
                    <div class="panel-heading text-center"><h4>Moje dane</h4></div>
                    <div class="panel-body">

                        @Html.AntiForgeryToken()

                        @Html.ValidationSummary(false, "", new { @class = "text-danger" })
                        <div class="form-group position-relative">
                            <label>Imię: </label>
                            @Html.TextBoxFor(o => o.UserData.Firstname, new { @class = "form-control" })
                            <span class="position-absolute" style="top: 70px; left:0px; font-size:12px; color:red;">@Html.ValidationMessageFor(o => o.UserData.Firstname)</span>
                        </div>
                        <div class="form-group position-relative">
                            <label>Nazwisko: </label>
                            @Html.TextBoxFor(o => o.UserData.Lastname, new { @class = "form-control" })
                            <span class="position-absolute" style="top: 70px; left:0px; font-size:12px; color:red;">@Html.ValidationMessageFor(o => o.UserData.Lastname)</span>
                        </div>
                        <div class="form-group position-relative">
                            <label>Adres: </label>
                            @Html.TextBoxFor(o => o.UserData.Adress, new { @class = "form-control" })
                            <span class="position-absolute" style="top: 70px; left:0px; font-size:12px; color:red;">@Html.ValidationMessageFor(o => o.UserData.Adress)</span>
                        </div>
                        <div class="form-group position-relative">
                            <label>Miasto: </label>
                            @Html.TextBoxFor(o => o.UserData.City, new { @class = "form-control" })
                            <span class="position-absolute" style="top: 70px; left:0px; font-size:12px; color:red;">@Html.ValidationMessageFor(o => o.UserData.City)</span>
                        </div>
                        <div class="form-group position-relative">
                            <label>Kod pocztowy: </label>
                            @Html.TextBoxFor(o => o.UserData.ZipCode, new { @class = "form-control" })
                            <span class="position-absolute" style="top: 70px; left:0px; font-size:12px; color:red;">@Html.ValidationMessageFor(o => o.UserData.ZipCode)</span>
                        </div>
                        <div class="form-group position-relative">
                            <label>Telefon: </label>
                            @Html.TextBoxFor(o => o.UserData.Phone, new { @class = "form-control" })
                            <span class="position-absolute" style="top: 70px; left:0px; font-size:12px; color:red;">@Html.ValidationMessageFor(o => o.UserData.Phone)</span>
                        </div>
                        <div class="form-group position-relative">
                            <label>Email: </label>
                            @Html.TextBoxFor(o => o.UserData.Email, new { @class = "form-control" })
                            <span class="position-absolute" style="top: 70px; left:0px; font-size:12px; color:red;">@Html.ValidationMessageFor(o => o.UserData.Email)</span>
                        </div>

                        <div class="text-center">
                            <input class="btn btn-success" type="submit" value="Modyfikuj dane" />
                        </div>



                    </div>
                </div>
            }





            @using (Html.BeginForm("ChangePassword", "Manage", FormMethod.Post))
            {
                if (Model.Message.HasValue)
                {
                    switch (Model.Message)
                    {
                        case Sklep_internetowy.Controllers.ManageController.ManageMessageId.Success:
                            @: Hasło zostało zmienione pomyślnie!
                            break;
                        case Sklep_internetowy.Controllers.ManageController.ManageMessageId.Error:
                            @: Wystąpił błąd podczas zmiany hasła
                            break;
                    }
                }
               
        <div class="panel panel-success" style="margin-top:60px;">
            <hr />
            <div class="panel-heading text-center"><h4>Zmiana hasła</h4></div>
            <div class="panel-body">
                @Html.AntiForgeryToken()

                @Html.ValidationSummary(false, "", new { @class = "text-danger" })

                <div class="form-group position-relative" style="margin-top:20px;">
                    <label>Aktualne hasło:</label>
                    @Html.PasswordFor(o => o.ChangePasswordViewModel.CurrentPassword, new { @class = "form-control" })
                    <span class="position-absolute" style="top: 70px; left:0px; font-size:12px; color:red;">@Html.ValidationMessageFor(o => o.ChangePasswordViewModel.CurrentPassword)</span>
                </div>
                <div class="form-group position-relative" style="margin-top:20px;">
                    <label>Nowe hasło:</label>
                    @Html.PasswordFor(o => o.ChangePasswordViewModel.NewPassword, new { @class = "form-control" })
                    <span class="position-absolute" style="top: 70px; left:0px; font-size:12px; color:red;">@Html.ValidationMessageFor(o => o.ChangePasswordViewModel.NewPassword)</span>
                </div>
                <div class="form-group position-relative" style="margin-top:20px;">
                    <label>Potwierdź hasło:</label>
                    @Html.PasswordFor(o => o.ChangePasswordViewModel.ConfirmPassword, new { @class = "form-control" })
                    <span class="position-absolute" style="top: 70px; left:0px; font-size:12px; color:red;">@Html.ValidationMessageFor(o => o.ChangePasswordViewModel.ConfirmPassword)</span>
                </div>

                <div class="text-center">
                    <input class="btn btn-success" type="submit" value="Zmień hasło" />
                </div>



            </div>
        </div>
            }

        
        <!-- /.col-lg-9 -->

    </div>
    <!-- /.row -->



@section Scripts
{
    <script src="~/Scripts/jquery-3.4.1.js"></script>
    <script src="~/Scripts/jquery.validate.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
}



